define("jira/util/browser",["jira/util/key-code","jira/util/elements","aui/params","jquery","exports"],function(e,t,n,a,r){"use strict";function i(n){var r=n.keyCode,i=e;if("keypress"!==n.type&&(r===i.DOWN||r===i.UP||r===i.LEFT||r===i.RIGHT)){var o=a(n.target);t.consumesKeyboardEvents(o)||n.preventDefault()}}r.canAccessIframe=function(e){var t=a(e);return!/^(http|https):\/\//.test(t.attr("src"))||n.baseURL&&0===a.trim(t.attr("src")).indexOf(n.baseURL)},r.disableKeyboardScrolling=function(){a(document.body).bind("keydown",i)},r.enableKeyboardScrolling=function(){a(document.body).unbind("keydown",i)},r.isSelenium=function(){return window.name.toLowerCase().indexOf("selenium")>=0},r.reloadViaWindowLocation=function(e){r.reloadViaWindowLocation._delegate(e,window.location)},r.reloadViaWindowLocation._delegate=function(){var e=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),n=(e.getTime()-t.getTime())/1e3;return Math.max(Math.floor(n),1)},t=/(jwupdated=[0-9]*)/,n=function(n){if(-1===n.indexOf("#"))return n;var a=n.indexOf("?"),r="jwupdated="+e();return n=-1===a?n.replace("#","?"+r+"#"):t.test(n)?n.replace(t,r):n.replace("?","?"+r+"&")};return function(e,t){var a=e||t.href,r=n(a);a===t.href?t.replace(r):t.assign(r)}}()});