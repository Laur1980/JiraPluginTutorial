AJS.test.require("jira.webresources:jira-global",function(){var e=require("jquery"),t=require("jira/issuetable"),a=null;module("jira/issuetable",{setup:function(){t.tables=[],t.off(t.Events.ATTACHED),e("#qunit-fixture").html(""),a=e("#qunit-fixture")},tearDown:function(){}}),test("Listeners are notified on component appearance on a page",function(n){n.expect(1);var i=n.async();t.onTable(function(e){n.ok(e,"Listeners should receive tables"),i()}),e("<issuetable-web-component><table id='issuetable'></table></issuetable-web-component>").appendTo(a)}),test("Listeners are notified even if component already present on a page",function(n){n.expect(1);var i=n.async();e("<issuetable-web-component><table id='issuetable'></table></issuetable-web-component>").appendTo(a),t.onTable(function(e){notEqual(e,null,"Listeners must be supplied with table whenever it appears on a page"),i()})}),test("Listeners are notified for every table separately",function(n){var i=0;n.expect(6);for(var o=[],s=0;s<6;s++)o.push(n.async());for(var l=0;l<3;l++)e("<issuetable-web-component><table id='issuetable1"+l+"'></table></issuetable-web-component>").appendTo(a);t.onTable(function(e){n.ok(e,"Listeners must be supplied with table whenever it appears on a page"),o[i](),i++});for(var b=0;b<3;b++)e("<issuetable-web-component><table id='issuetable2"+b+"'></table></issuetable-web-component>").appendTo(a)}),test("Every table must be capable of dragging by default",function(n){n.expect(4);var i=n.async();t.onTable(function(e){n.ok(e.dragging,"Failed to detect dragging enabled"),n.ok(e.dragging.enable,"Failed to detect dragging enabled"),n.ok(e.dragging.disable,"Failed to detect dragging enabled"),n.ok(e.dragging.cancel,"Failed to detect dragging enabled"),i()}),e("<issuetable-web-component><table id='issuetable'></table></issuetable-web-component>").appendTo(a)})});