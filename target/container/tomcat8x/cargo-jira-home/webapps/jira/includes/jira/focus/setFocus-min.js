define("jira/focus/set-focus",["jira/dialog/dialog","jquery"],function(e,t){var n=["."+e.ClassNames.CONTENT_AREA,"form.aui","form"],o=[],s=function(e,n,o,s){var i=!1;return t(n,e).not(o).find(s).each(function(){var e=t(this);if(e.is(":enabled, a")&&e.is(":visible"))return e.focus(),e.is(":text, :password, textarea")&&(e.is(".focus-select-end")?e.setCaretToPosition(e[0].value.length):e.setSelectionRange(0,e[0].value.length)),i=!0,!1}),i},i=function(){for(var e=0,t=o[o.length-1];!s(t.context,t.parentElementSelectors[e],t.excludeParentSelector,t.focusElementSelector)&&e<t.parentElementSelectors.length;)e++};return{FocusConfiguration:function(){this.context=document,this.excludeParentSelector="form.dont-default-focus",this.focusElementSelector="input:not(#issue-filter-submit), select, textarea, button, a.cancel",this.parentElementSelectors=n.slice(0),this.focusNow=i},triggerFocus:function(){0===o.length&&o.push(new this.FocusConfiguration),o[o.length-1].focusNow()},pushConfiguration:function(e){o.push(e)},popConfiguration:function(){o.pop()}}}),AJS.namespace("JIRA.setFocus",null,require("jira/focus/set-focus"));