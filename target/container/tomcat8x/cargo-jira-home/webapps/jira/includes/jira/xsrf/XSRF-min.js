define("jira/xsrf",["require"],function(t){"use strict";function a(t){var a=n.atl_token();a!==t&&(u(a,t),f(a,t),o(a,t))}var r=t("jira/util/formatter"),n=t("jira/util/urls"),e=t("jquery"),i=function(t){return r.format("{0}={1}","atl_token",t)},u=function(t,a){var n=r.format("meta#{0}","atlassian-token");e(n).attr("content",a)},f=function(t,a){e("a,link").each(function(){var r=e(this),n=r.attr("href");n&&r.attr("href",n.replace(i(t),i(a)))})},o=function(t,a){e("form").each(function(){var n=e(this),u=n.attr("action");u&&n.attr("action",u.replace(i(t),i(a)));var f=r.format('input[name="{0}"][value="{1}"]',"atl_token",t);n.find(f).each(function(){e(this).attr("value",a)})})};return{updateTokenOnPage:a}}),AJS.namespace("jira.xsrf",null,require("jira/xsrf")),AJS.namespace("JIRA.XSRF",null,require("jira/xsrf"));