AJS.test.require(["jira.webresources:edit-project-details"],function(){function e(){var e='<div><select class="select" name="projectCategoryId" id="project-category-selector">';return i.each(r,function(t){e+='<option value="'+t+'">'+t+"</option>"}),e+="</select></div>"}var t=require("jquery"),i=require("underscore"),o=require("jira/project/edit/project-category-field"),r=["a","b","c","d"];module("JIRA.Project.ProjectTypeField",{setup:function(){this.$field=t(e()),t("#qunit-fixture").append(this.$field),new o({el:this.$field}),this.changeProjectCategory=function(e){this.$field.find(".drop-menu").click(),t("#projectTypeKey-suggestions").find("li.aui-list-item-li-"+e).click()}},teardown:function(){t("#project-category-selector-suggestions").parent().remove()}}),test("Converts the project type select to a SingleSelect",function(){ok(this.$field.find("#project-category-selector-field"),"Should have created it's own single select field"),ok(this.$field.find("#project-category-selector").hasClass("aui-ss-select"),"Should have modified the original select box")})});