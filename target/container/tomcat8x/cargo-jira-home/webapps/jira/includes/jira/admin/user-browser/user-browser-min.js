define("jira/admin/user-browser",["jira/util/formatter","jira-help-tips/feature/help-tip","jira/togglelist/toggle-list","jquery","jira/postsetup/announcements-view-lib","jira/postsetup/announcements-initializer"],function(e,i,t,s,n,r){function o(e){var i={"create.user.mail.properties.setup":new n.Announcement("create.user.mail.properties.setup",n.soyTemplateAnnouncementBody(l.userBrowserEmailDiscovery),n.inViewPort(n.findElement(e)),n.GRAVITY_BELOW,30,!0)};r.createFlagsFromDataProvider(i)}var a={},l=JIRA.Templates.Admin.UserBrowser;return a.initToggleLists=function(){s(".toggle-list").each(function(){var e=s(this),i=e.parent();new t({more:e.find("li:gt(4)"),showMoreLink:i.find(".toggle-list__show-more"),showLessLink:i.find(".toggle-list__show-less")})})},a.initNewUsersTip=function(t,n){if(i){var r,a,l=s(t),u=s(n),d=u.parent();l.length&&(a=s("<div></div>").css({position:"fixed","z-index":" -1",height:"1px",width:"1px",top:d.offset().top+d.height()+12,left:d.offset().left+d.width()/2}).insertAfter(d),r=new i({id:"add.new.users",title:e.I18n.getText("helptips.add.new.users.title"),bodyHtml:e.I18n.getText("helptips.add.new.users.body"),url:u.data("url"),anchor:a,callbacks:{hide:function(){o(t)}}}),l.click(function(){r.dismiss("inviteuser")}),u.click(function(){r.dismiss("createuser")}),r.show(),r.isDismissed()&&o(t))}},a});