define("jira/ajs/ajax/ajax-util",["jira/util/formatter","jquery","underscore","exports"],function(r,e,t,s){"use strict";var n=function(r){if(r){if(t.isArray(r.errorMessages)&&!t.isEmpty(r.errorMessages))return r.errorMessages.join(" ");if(t.isObject(r.errors)&&!t.isEmpty(r.errors))return t.values(r.errors).join(" ")}return null},a=function(r){var t;try{return t=r.responseText&&e.parseJSON(r.responseText),n(t)}catch(r){}return null},o=function(e){return 401===e.status?r.I18n.getText("common.ajax.unauthorised.alert"):e.responseText?r.I18n.getText("common.ajax.servererror"):r.I18n.getText("common.ajax.commserror")},u=/websudo/i;s.getErrorMessageFromXHR=function(r){return a(r)||o(r)},s.isWebSudoFailure=function(r){return r&&401===r.status&&u.test(r.responseText)}}),AJS.namespace("JIRA.Ajax",null,require("jira/ajs/ajax/ajax-util"));