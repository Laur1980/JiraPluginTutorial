AJS.test.require(["jira.webresources:select-pickers"],function(){"use strict";var e=require("jquery"),r=require("jira/jquery/deferred"),o=require("jira/ajs/select/queryable-dropdown-select");module("QueryableDropdownSelect"),test("Should get results before rendering dropdown (such that positioning won't be borked)",function(){var t=this,n=new o({element:e("<ul></ul>")});t.stub(n,"getQueryVal",function(){return"one"}),t.stub(n,"requestSuggestions",function(){return(new r).resolve(["one","two"]).promise()});var s=t.spy(n.listController,"generateListFromJSON"),i=t.spy(n.dropdownController,"show"),l=t.spy(n.dropdownController,"setPosition");n.onEdit(),ok(s.calledBefore(i),"should have results before we render a dropdown with them in it (to prevent things like TF-39)"),ok(s.calledBefore(l),"should have results before we calc and position a dropdown with them in it (to prevent things like TF-39)")})});