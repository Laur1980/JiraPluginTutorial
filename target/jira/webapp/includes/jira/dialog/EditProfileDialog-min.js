define("jira/dialog/edit-profile-dialog",["jira/dialog/user-profile-dialog","jquery"],function(e,t){return e.extend({_handleSubmitResponse:function(e,t,a){this.serverIsDone&&(this._updateName(),this._updateMail(),this._super(e,t,a))},_updateName:function(){var e=t("#up-d-fullname").text(),a=t("#edit-profile-fullname").val();t("#up-d-fullname").text(a),t("#up-user-title-name").text(a),t("a[href*='ViewProfile.jspa']").each(function(){var i=t(this);i.text().indexOf(e)>=0&&i.text(a)}),window.frames["gadget-1"]&&window.frames["gadget-1"].AJS&&window.frames["gadget-1"].jQuery("a[href*='ViewProfile.jspa']").each(function(){var i=t(this);i.text().indexOf(e)>=0&&i.text(a)})},_updateMail:function(){var e=t("#edit-profile-email").val(),a=t("#up-d-email");0===a.find("a").length?/\sat\s.*\sdot\s/.test(a.text())?a.text(e.replace(/@/g," at ").replace(/\./g," dot ")):a.text(e):a.find("a").attr("href","mailto:"+e).text(e)}})}),AJS.namespace("JIRA.EditProfileDialog",null,require("jira/dialog/edit-profile-dialog"));