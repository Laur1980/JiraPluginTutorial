define("jira/project/permissions/addpermissionmodel",["backbone","jquery","jira/project/permissions/grantcollection","wrm/context-path"],function(e,i,n,s){"use strict";return e.Model.extend({defaults:{grantCollection:null,showMore:null,submitDisabled:null},url:function(){return this.addModelUrl},initialize:function(e){this.permissionSchemeId=e.permissionSchemeId,this.permissionKey=e.permissionKey,this.permissionKey?this.addModelUrl=s()+"/rest/internal/2/managedpermissionscheme/"+this.permissionSchemeId+"/"+this.permissionKey:this.addModelUrl=s()+"/rest/internal/2/managedpermissionscheme/securitytypes"},toggleShowMore:function(){this.set("showMore",!this.get("showMore"))},parse:function(e){var s=i.extend({},e);return s.grantCollection=new n(e.primarySecurityType),s.grantCollection.forEach(function(e){e.set("primary",!0)}),s.grantCollection.add(e.secondarySecurityType),s}})});