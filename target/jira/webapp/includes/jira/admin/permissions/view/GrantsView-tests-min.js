AJS.test.require("jira.webresources:projectpermissions",function(){function e(e,n){return new i({grants:[{securityType:e,values:n}],el:"#qunit-fixture"})}var n=require("jquery"),i=require("jira/project/permissions/grantsview"),a=require("jira/project/permissions/securitytypes"),t=[{displayValue:"displayValue"}],r=[{someKey:"someKey"}];module("projectpermissions/grants-view"),test("Correct empty value shown for application role",function(){var i=e(a.APPLICATION_ROLE,r),t=n("<div>").append(i.renderGrant(i.grants[0]));strictEqual(t.find("dd").size(),1,"There should only be one element in the dd"),strictEqual(t.find("dd").text(),"admin.permission.types.application.role.any","Should display provided empty value for application role")}),test("Correct empty value shown for group",function(){var i=e(a.GROUP,r),t=n("<div>").append(i.renderGrant(i.grants[0]));strictEqual(t.find("dd").size(),1,"There should only be one element in the dd"),strictEqual(t.find("dd").text(),"admin.common.words.anyone","Should display provided empty value for group")}),test("Single values do not have empty values displayed",function(){var i=e(a.REPORTER,r),t=n("<div>").append(i.renderGrant(i.grants[0]));ok(i.isSingleValueGrant(i.grants[0]),"A non-group, non-applicationrole security type with no values passed in is a single value grant"),strictEqual(t.find("dd").size(),0,"There should be no elements in the dd")}),test("isSingleValueGrant is false for groups",function(){var n=e(a.GROUP,[]);ok(!n.isSingleValueGrant(n.grants[0]),"A group security type is not a single value grant")}),test("isSingleValueGrant is false for applicationRole",function(){var n=e(a.APPLICATION_ROLE,[]);ok(!n.isSingleValueGrant(n.grants[0]),"An applicationrole security type is not a single value grant")}),test("isSingleValueGrant is false when values are passed in",function(){var n=e(a.REPORTER,t);ok(!n.isSingleValueGrant(n.grants[0]),"When values are passed in it is not a single value grant")}),test("isSingleValueGrant is true when not a group, application role, and no values passed in",function(){var n=e(a.REPORTER,[]);ok(n.isSingleValueGrant(n.grants[0]),"A non-group, non-applicationrole security type with no values passed in is a single value grant")})});