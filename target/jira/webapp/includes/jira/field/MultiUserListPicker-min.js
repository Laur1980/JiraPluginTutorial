define("jira/field/multi-user-list-picker",["jira/util/formatter","jira/field/multi-user-list-picker/item","jira/ajs/select/suggestions/user-list-suggest-handler","jira/ajs/select/multi-select","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/ajs/group","wrm/context-path","jquery"],function(e,t,i,r,s,n,a,l,u){"use strict";var o=l();return r.extend({init:function(r){function l(e){var t=[];return u(e).each(function(e,i){var r=new n({weight:e,label:i.footer});u(i.users).each(function(){r.addItem(new s({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0}))}),t.push(r)}),t}u.extend(r,{itemAttrDisplayed:"label",userEnteredOptionsMsg:e.I18n.getText("common.form.email.label.suffix"),showDropdownButton:!1,removeOnUnSelect:!0,ajaxOptions:{url:o+"/rest/api/1.0/users/picker",query:!0,data:{showAvatar:!0},formatResponse:l},suggestionsHandler:i,itemGroup:new a,itemBuilder:function(e){return new t({descriptor:e,container:this.$selectedItemsContainer})}}),this._super(r)},_createFurniture:function(e){this._super(e),this.options.description&&this._render("description",this.options.description).insertAfter(this.$field)},updateItemsIndent:u.noop,_renders:{selectedItemsWrapper:function(){return u('<div class="recipients" />')},selectedItemsContainer:function(){return u("<ol />")},description:function(e){return u("<div />").addClass("description").text(e)}}})}),AJS.namespace("JIRA.MultiUserListPicker",null,require("jira/field/multi-user-list-picker")),AJS.namespace("JIRA.MultiUserListPicker.Item",null,require("jira/field/multi-user-list-picker/item"));