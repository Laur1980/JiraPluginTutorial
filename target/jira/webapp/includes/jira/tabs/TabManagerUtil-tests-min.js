AJS.test.require(["jira.webresources:manageshared"],function(){var i=require("jira/tabs/tab-manager/util");module("TabManagerUtil",{setup:function(){this.initializeUtil("/initial/url?returnUrl=location&view=search")},initializeUtil:function(t){this.util=new i(t,"view",/view=[^&]*/)}}),test("test constructCompleteUrl()",function(){equal(this.util.constructCompleteUrl("/initial/url?view=filter"),"/initial/url?returnUrl=location&view=filter"),equal(this.util.constructCompleteUrl("/initial/url"),"/initial/url?returnUrl=location"),equal(this.util.constructCompleteUrl("/initial/url?view=filter&other=value"),"/initial/url?returnUrl=location&view=filter")}),test("test getTabParamFromUrl()",function(){equal(this.util.getTabParamFromUrl("/initial/url?view=filter"),"view=filter"),equal(this.util.getTabParamFromUrl("/initial/url?param=value"),"")}),test("test updateInitialUrl()",function(){var i="/initial/url?view=something";this.initializeUtil("/initial/url"),equal(this.util.updateInitialUrl(i),"/initial/url?view=something"),this.initializeUtil("/initial/url"),equal(this.util.updateInitialUrl("/initial/url?something=else"),"/initial/url"),this.initializeUtil("/initial/url?view=value"),equal(this.util.updateInitialUrl(i),"/initial/url?view=something"),this.initializeUtil("/initial/url?view=value&param=thing"),equal(this.util.updateInitialUrl(i),"/initial/url?view=something&param=thing")})});