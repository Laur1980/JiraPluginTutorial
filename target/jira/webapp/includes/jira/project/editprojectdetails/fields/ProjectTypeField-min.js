define("jira/project/edit/project-type-field",["jira/analytics","jira/util/formatter","jquery","backbone","jira/ajs/select/single-select","jira/project/edit/change-triggered-flag","aui/inline-dialog2"],function(e,t,i,n,a,r){"use strict";return n.View.extend({initialize:function(){this._initSingleSelect(),this.changeTriggeredFlag=new r({getValue:this._getValue.bind(this),revert:this._revert.bind(this),warningDescription:t.I18n.getText("admin.projects.edit.project.type.warning.message"),cancelMessage:t.I18n.getText("admin.projects.edit.project.warning.cancel"),onCancelCallback:function(){e.send({name:"jira.administration.projectdetails.projecttypeupdate.cancelled"})}})},events:{"change #projectTypeKey":"_optionChanged"},_getValue:function(){return i("#projectTypeKey",this.$el).val()[0]},_revert:function(e){this.projectTypeSingleSelect._setDescriptorWithValue(e)},_optionChanged:function(){this.changeTriggeredFlag.changeOccurred()},_initSingleSelect:function(){var e=this.$el.find("#projectTypeKey");this.projectTypeSingleSelect=new a({element:i(e),revertOnInvalid:!0,uneditable:"disabled"===i(e).attr("disabled")})},cleanup:function(){this.changeTriggeredFlag.cleanup()}})});