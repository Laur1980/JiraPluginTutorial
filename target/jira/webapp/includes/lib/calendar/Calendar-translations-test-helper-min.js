define("calendarTestHelper",["jquery"],function(t){return{runTests:function(e,a,i){module("JIRA.list.calendar.Calendar"+(i?"WithMoment":"")+e.toUpperCase()+"test",{setup:function(){this.consts=a;this.$input=t("<input type='text'>").appendTo("#qunit-fixture"),this.trigger=t("<input type='button'>").appendTo("#qunit-fixture")[0],this.input=this.$input[0],this.assertDaySelected=function(e){var a=t(".calendar.active"),i=t(".day-"+e+".selected",a);ok(i,"First day should be selected"),ok(i.length,"First day should be selected")}},teardown:function(){t(".calendar").remove(),window.calendar=void 0}}),test("test calendar selects proper date on open",function(){var e=new Date(2012,0,1);Calendar.setup({inputField:this.input,button:this.trigger,date:e,firstDay:0}),this.trigger.click();var a=t(".calendar.active");ok(a.length,"Calendar not present"),ok(a.is(":visible"),"Callendar should be visible"),this.assertDaySelected(1),equal(t(".title",a).text(),this.consts.longMonths[0]+", 2012","Expect proper header")}),test("test calendar translation for day of week",function(){var e=new Date(2012,1,1);Calendar.setup({inputField:this.input,button:this.trigger,date:e,firstDay:0}),this.trigger.click();var a=t(".name.day");equal(a.length,7,"Expected that the week has seven days");for(var i=0;i<7;i++)equal(t(a[i]).text(),this.consts.daysOfWeek[i],"Invalid week name")}),test("test calendar month changes properly by change of input field",function(){var e=new Date(2012,1,1);Calendar.setup({inputField:this.input,button:this.trigger,ifFormat:"%d/%b/%y ",date:e,firstDay:0});for(var a=0;a<12;a++){var e="1/"+this.consts.shortMonths[a]+"/2012";this.$input.val(e),this.trigger.click(),this.assertDaySelected(1);var i=t(".calendar.active");equal(t(".title",i).text(),this.consts.longMonths[a]+", 2012","Expect proper header")}}),test("test calendar month changes properly by js function",function(){Calendar.setup({inputField:this.input,button:this.trigger,firstDay:0}),this.trigger.click();for(var e=0;e<12;e++){window.calendar.setDate(new Date(2012,e,1)),this.assertDaySelected(1);var a=t(".calendar.active");equal(t(".title",a).text(),this.consts.longMonths[e]+", 2012","Expect proper header")}}),test("test calendar popup selects day by click ",function(){var e=new Date(2012,1,1);Calendar.setup({inputField:this.input,button:this.trigger,date:e,firstDay:0}),this.trigger.click();var a=t(".calendar.active");Calendar.dayMouseDown({currentTarget:t(".day-3",a)[0]}),Calendar.tableMouseUp({target:t(".day-3",a)[0]}),equal(this.$input.val(),"2012/02/03")}),test("test calendar with 24 hour time mode ",function(){var e=new Date(2012,1,1,16,23,12);Calendar.setup({inputField:this.input,button:this.trigger,showsTime:!0,time24:!0,date:e,firstDay:0}),this.trigger.click();var a=t(".calendar.active");equal(t(".time > .hour",a).text(),16,"Invalid hour"),equal(t(".time > .minute",a).text(),23,"Invalid minute")}),test("test Date.splitDate",function(){var t=new Date(2017,1,1);Calendar.setup({inputField:this.input,button:this.trigger,ifFormat:"%e/%b/%y",date:t,firstDay:0});for(var e=0;e<12;e++){var a=20,i=17,t=a.toString()+"/"+this.consts.shortMonths[e]+"/"+i.toString(),n=Date.splitDate(t,"%e/%b/%y");equal(n.day,a,"Expect proper day"),equal(n.month,e,"Expect proper month"),equal(n.year,2e3+i,"Expect proper year")}})}}});